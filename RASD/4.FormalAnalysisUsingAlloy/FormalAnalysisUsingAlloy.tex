\providecommand{\rasd}{..}
\documentclass[../rasd.tex]{subfiles}
\begin{document}


\chapter{Formal Analysis using Alloy}
\thispagestyle{fancy}
	\section{Alloy model}
	
	This section includes Alloy code that describes the model and checks whether it is consistent or not. At the end of the code the Alloy generated World is shown. \\
	The main objective, driving the formal modeling activity has been the representation of the statistics visualization through SafeStreets application. In particular, the \ic{Detaied statistics}, belonging to \ic{Municpality}, extend the \ic{Public statistics}, belonging to the \ic{User}. Indeed, the \ic{Municipality} can select an additional parameter (\ic{License Plate}) than the \ic{User}, according to the different level of visibility. \\
	Some necessary structural constraints are expressed and properly commented in the Alloy formal notation. These bonds are verified analyzing the worlds generated running the model and checking the relevant assertion. \\
	
	\lstinputlisting[language=alloy]{Helper/SafeStreetsV2.als}

		\subsection{Analysis results}
		
		In this subsection are shown the results of the checks performed on the two assertions. 
		\image{13 cm}{./Images/Alloy/AlloySummary.png}{Alloy Analyzer summary}{AlloyAnalyzerSummary}
%	\newpage
	\section{Graph}
	
	From the World in the following figure, generated by the run, it can be noticed that all the \ic{Users} correspond to a unique Individual and have a unique Email (i.e. \ic{User identifier}). Moreover, every \ic{User report} has a unique Picture (i.e. \ic{User picture}, which in turn has associated a unique Metadata), a Position (i.e. \ic{User position}), a \ic{Type of violation}, a \ic{License Plate} and a Timestamp. It also shows that the two \ic{Detailed statistics} are associated to the only \ic{Municipality} generated in this case, while the two \ic{Public statistics} generated, are associated to two different \ic{Users}. \\
	All the statistics generated are based on a unique filter and, in this case, all the filter parameters correspond to some \ic{User report} parameters.
	In general, filter parameters can correspond to no or more than one \ic{User report}. 
	
		\image{17.3 cm}{./Images/Alloy/AlloyGraph.png}{Alloy World generated}{AlloyAnalyzerGraph}
\end{document}